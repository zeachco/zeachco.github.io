/* Custom Brown/Pumpkin Theme for Pico v2 */

// Configure Pico with pumpkin theme (brown/orange tones)
// Available themes: amber, azure, blue, cyan, fuchsia, green, grey, indigo,
// jade, lime, orange, pink, pumpkin, purple, red, sand, slate, violet, yellow, zinc
@use '@picocss/pico/scss/pico' with (
	$theme-color: 'pumpkin'
);

// CSS variables for mouse-driven animation (with defaults)
:root {
	--mouse-x: 50%;
	--mouse-y: 50%;
	--mouse-rotate: 0deg;
	--mouse-scale: 1;
}

// Custom HTML5 Tooltip Styling (for data-tooltip attributes)
[data-tooltip] {
	position: relative;
	cursor: help;

	// Tooltip box
	&::before {
		content: attr(data-tooltip);
		position: absolute;
		bottom: 100%;
		left: 50%;
		transform: translateX(-50%) translateY(-0.5rem);
		background: var(--pico-contrast-background);
		color: var(--pico-contrast-inverse);
		border: 2px solid var(--pico-primary-background);
		padding: 0.5rem 0.75rem;
		border-radius: 0.375rem;
		font-size: 0.875rem;
		line-height: 1.25;
		white-space: nowrap;
		z-index: 1000;
		pointer-events: none;
		opacity: 0;
		visibility: hidden;
		transition: opacity 0.15s ease-in-out, visibility 0.15s ease-in-out;
	}

	// Tooltip arrow
	&::after {
		content: '';
		position: absolute;
		bottom: 100%;
		left: 50%;
		transform: translateX(-50%) translateY(2px);
		border: 0.375rem solid transparent;
		border-top-color: var(--pico-primary-background);
		z-index: 1001;
		pointer-events: none;
		opacity: 0;
		visibility: hidden;
		transition: opacity 0.15s ease-in-out, visibility 0.15s ease-in-out;
	}

	// Show tooltip instantly on hover/focus
	&:hover::before,
	&:hover::after,
	&:focus::before,
	&:focus::after {
		opacity: 1;
		visibility: visible;
		transition-delay: 0s;
	}

	// Bottom placement
	&[data-placement='bottom'] {
		&::before {
			bottom: auto;
			top: 100%;
			transform: translateX(-50%) translateY(0.5rem);
		}

		&::after {
			bottom: auto;
			top: 100%;
			transform: translateX(-50%) translateY(-2px);
			border-top-color: transparent;
			border-bottom-color: var(--pico-primary-background);
		}
	}

	// Left placement
	&[data-placement='left'] {
		&::before {
			bottom: auto;
			top: 50%;
			left: auto;
			right: 100%;
			transform: translateY(-50%) translateX(-0.5rem);
		}

		&::after {
			bottom: auto;
			top: 50%;
			left: auto;
			right: 100%;
			transform: translateY(-50%) translateX(2px);
			border-top-color: transparent;
			border-right-color: var(--pico-primary-background);
		}
	}

	// Right placement
	&[data-placement='right'] {
		&::before {
			bottom: auto;
			top: 50%;
			left: 100%;
			transform: translateY(-50%) translateX(0.5rem);
		}

		&::after {
			bottom: auto;
			top: 50%;
			left: 100%;
			transform: translateY(-50%) translateX(-2px);
			border-top-color: transparent;
			border-left-color: var(--pico-primary-background);
		}
	}
}

// Dark background layer
body::before {
	content: '';
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: #0a0a0a;
	z-index: -2;
}

// Animated cells-ai background
.animated-background {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: -1;
	border: none;
	pointer-events: none;
	opacity: 0.1;
	transform: rotate(var(--mouse-rotate)) scale(calc(var(--mouse-scale) * 1.2));
	transition: transform 0.3s ease-out;
}

.print {
	display: none;
}

nav a {
	color: var(--pico-primary-background);

	&:hover {
		color: var(--pico-primary-hover-background) !important;
	}

	&.active {
		background-color: var(--pico-primary-focus) !important;
	}
}

// Content links in bright orange
main a,
article a,
section a {
	color: var(--pico-primary-background);

	&:hover {
		color: var(--pico-primary-hover-background);
	}
}

@media print {
	* {
		color: #000 !important;
		background-color: transparent !important;
		background-image: none !important;
		box-shadow: none !important;
		text-shadow: none !important;
	}

	body {
		background: #fff !important;
	}

	.print {
		display: inline-block;
	}

	div.print {
		display: block;
	}

	.no-print,
	.no-print *,
	.animated-background {
		display: none !important;
	}

	a {
		color: #555 !important;
		font-weight: 400 !important;
		text-decoration: none !important;
	}

	h1, h2, h3, h4, h5, h6 {
		color: #000 !important;
	}

	// Remove all badge/tag backgrounds
	span, div, article, section {
		background-color: transparent !important;
	}

	// Ensure borders are minimal
	*:not(table):not(td):not(th) {
		border-color: #ddd !important;
	}
}
